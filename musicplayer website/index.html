<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Player App</title>
    <link rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" integrity="sha512-PgQMlq+nqFLV4ylk1gwUOgm6CtIIXkKwaIHp/PAIWHzig/lKZSEGKEysh0TCVbHJXCLN7WetD8TFecIky75ZfQ==" crossorigin="anonymous" />
   <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <div class="main_div">
    <div class="music_container">

        <h2 id="title">LOTUS LANE</h2>
        <h3 id="artist">The Loyalist</h3>

        <div class="img_container">
<img src="images/image1.jpg"  alt="thapa1">

        </div>

        <audio src="music/gurinder-1.mp3" ></audio>

        <!-- Controls -->
        <div class="music_controls">

            <i class="fas fa-backward" id="prev" title="Previous"></i>
            <i class="fas fa-play main_button" id="play" title="Play"></i>
            <i class="fas fa-forward" id="next" title="Next"></i>
           
        </div>


        </div>
    </div>

    <script>
        const play=document.getElementById("play");
        const music=document.querySelector("audio");
        const img=document.querySelector("img");
        const title=document.getElementById("title");
        const artist=document.getElementById("artist");
        const next=document.getElementById("next");
        const prev=document.getElementById("prev");

        const songs=[

            {
                name:"gurinder-1",
                title:"Lotus Lane",
                artist:"The Loyalist",
                image:"image1"

            },
            {
                name:"gurinder-2",
                title:"sappheiros",
                artist:"Aurora",
                image:"image2"
            },
            {
                name:"gurinder-3",
                title:"Walking Farari",
                artist:"Gorkhali Takma",
                image:"image3"
            }
        ]

        let isPlaying=false;

          // For Play functionality


        const playMusic=()=>
        {
            isPlaying=true;
            music.play();
            
            play.classList.replace('fa-play','fa-pause');
            img.classList.add('anime');

        }

        // For pause functionality

       const pauseMusic=()=>
        {
            isPlaying=false;
            music.pause();
            
            play.classList.replace('fa-pause','fa-play');
            img.classList.remove('anime');

        }


        play.addEventListener('click',()=>
        {

            // if(isPlaying)
            // {
            //     pauseMusic();
            // }
            // else{
            //     playMusic();

            // }

            isPlaying? pauseMusic():playMusic();
        })
       
    //    changing the music data

    const loadSong=(songs)=>
    {

    title.textContent=songs.title;
    artist.textContent=songs.artist;
    music.src="music/"+songs.name+".mp3";
    img.src="images/"+songs.image+".jpg";


    }

    // loadSong(songs[2]);

    let songIndex=0;

    const nextSong=()=>
    {
       songIndex=(songIndex+1) % songs.length;
        loadSong(songs[songIndex]);
        playMusic();


    }

    const prevSong=()=>
    {
       songIndex=(songIndex-1 + songs.length) % songs.length;
        loadSong(songs[songIndex]);
        playMusic();


    }

    next.addEventListener('click',nextSong);

    prev.addEventListener('click',prevSong);


    </script>

<!-- https://g91.tcsion.com/LX/login#lx -->

    
</body>
</html>